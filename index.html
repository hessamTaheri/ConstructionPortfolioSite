<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Construction Team - Premier Building & Renovation</title>
    <!-- Merriweather font from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-Avb2QiuDEEvB4bZJYdft2mNjVShBftLdPG8FJ0V7irTLQ8Uo0qcPxh4Plq7G5tGm0rU+1SPhVotteLpBERwTkw==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <style>
        /* Reset and basics */
        * { box-sizing: border-box; }
        body {
            margin: 0;
            font-family: 'Merriweather', serif;
            background: #FAFAFA;
            color: #222222;
            line-height: 1.7;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        a {
            text-decoration: none;
            color: #17A2B8;
            transition: color 0.3s ease;
        }
        a:hover, a:focus { color: #0B1D3F; }
        html { scroll-behavior: smooth; }

        /* Header */
        header {
            background: #0B1D3F;
            color: white;
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 10000;
            box-shadow: 0 2px 8px rgba(11, 29, 63, 0.9);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .logo {
            font-weight: 700;
            font-size: 1.5rem;
            letter-spacing: 1.5px;
            user-select: none;
            white-space: nowrap;
            flex-shrink: 0;
        }
        nav {
            flex: 1;
            display: flex;
            justify-content: center;
            gap: 2rem;
        }
        nav a {
            font-weight: 600;
            font-size: 1.05rem;
            color: #17A2B8;
        }
        nav a:hover, nav a:focus { color: #FAFAFA; }
        .btn-cta {
            background-color: #17A2B8;
            border: none;
            color: white;
            font-weight: 700;
            padding: 0.6rem 1.5rem;
            border-radius: 30px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
            margin-left: 2rem;
            box-shadow: 0 4px 12px rgba(23, 162, 184, 0.4);
            user-select: none;
        }
        .btn-cta:hover, .btn-cta:focus {
            background-color: #0B1D3F;
            box-shadow: 0 6px 20px rgba(11, 29, 63, 0.8);
            outline: none;
        }
        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            gap: 5px;
        }
        .hamburger span {
            height: 3px;
            width: 25px;
            background: white;
            border-radius: 2px;
            transition: all 0.3s ease;
        }
        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }
        .hamburger.active span:nth-child(2) { opacity: 0; }
        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -7px);
        }

        /* Mobile nav */
        @media (max-width: 768px) {
            nav {
                position: fixed;
                top: 70px;
                right: 0;
                background: #0B1D3F;
                height: calc(100% - 70px);
                width: 250px;
                flex-direction: column;
                transform: translateX(100%);
                transition: transform 0.3s ease;
                padding-top: 2rem;
                z-index: 10000;
            }
            nav.active { transform: translateX(0); }
            nav a { margin: 1.5rem; font-size: 1.2rem; }
            .hamburger { display: flex; }
            .btn-cta { margin: 1.5rem; }
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(rgba(11,29,63,0.75), rgba(11,29,63,0.75)), url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=1470&q=80') no-repeat center/cover;
            height: 70vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            text-align: center;
            padding: 0 2rem;
            user-select: none;
        }
        .hero h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }
        .hero p {
            font-size: 1.25rem;
            font-weight: 400;
            max-width: 1000px;
            letter-spacing: 0.3px;
        }
        .hero .btn-cta {
            margin-top: 2rem;
            font-size: 1.15rem;
            padding: 0.8rem 2.2rem;
            box-shadow: 0 6px 25px rgba(23, 162, 184, 0.5);
        }
        .hero .btn-cta:hover, .hero .btn-cta:focus {
            box-shadow: 0 8px 30px rgba(11, 29, 63, 0.9);
        }

        /* Container */
        .container {
            max-width: 1280px;
            margin: 4rem auto;
            padding: 0 1.5rem;
        }

        /* Section Titles */
        h2 {
            color: #0B1D3F;
            font-weight: 700;
            font-size: 2.5rem;
            margin-bottom: 2rem;
            text-align: center;
            user-select: none;
        }

        /* Services Grid */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
        }
        .service-card {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s cubic-bezier(0.4,0,0.2,1), box-shadow 0.3s ease;
        }
        .service-card:hover, .service-card:focus {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
            outline: none;
        }
        .service-icon {
            font-size: 4rem;
            color: #17A2B8;
            margin-bottom: 1.2rem;
        }
        .service-title {
            font-weight: 700;
            font-size: 1.5rem;
            color: #0B1D3F;
        }

        /* Service Detail Section */
        .service-detail {
            background: white;
            padding: 3rem;
            border-radius: 18px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            margin-bottom: 4rem;
        }
        .service-desc {
            font-weight: 400;
            color: #444;
            font-size: 1.1rem;
            margin-bottom: 2.5rem;
            line-height: 1.6;
        }
        .subservices-list {
            display: flex;
            flex-wrap: wrap;
            gap: 1.2rem;
        }
        .subservice-item {
            flex: 1 1 200px;
            background: #E1F0F6;
            border-radius: 12px;
            padding: 1.2rem;
            font-weight: 600;
            color: #0B1D3F;
            box-shadow: 0 3px 10px rgba(23,162,184,0.3);
            text-align: center;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .subservice-item:hover, .subservice-item:focus {
            background-color: #17A2B8;
            color: white;
            outline: none;
        }
        .subservice-message {
            display: none;
            margin-top: 1.5rem;
            padding: 1rem;
            background: #E1F0F6;
            border-radius: 12px;
            text-align: center;
            color: #0B1D3F;
            font-size: 1rem;
        }
        .subservice-slider {
            display: none;
            margin-top: 2rem;
        }
        .back-btn {
            background: #17A2B8;
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 30px;
            font-weight: 600;
            margin-bottom: 2rem;
            display: inline-block;
            transition: background-color 0.3s ease;
        }
        .back-btn:hover, .back-btn:focus {
            background: #0B1D3F;
            outline: none;
        }

        /* Before After Slider */
        .before-after-wrapper, .subservice-slider {
            position: relative;
            max-width: 1000px;
            margin: 3rem auto;
        }
        .before-after-wrapper img, .subservice-slider img {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 18px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        .after-img {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            overflow: hidden;
            border-radius: 18px;
        }
        .after-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .slider-container {
            margin-top: 1.5rem;
        }
        input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 14px;
            background: #E1F0F6;
            border-radius: 14px;
            outline: none;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        input[type="range"]:hover { background: #B5D7E5; }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 32px;
            height: 32px;
            background: #17A2B8;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(23,162,184,0.6);
            transition: background-color 0.3s ease;
        }
        input[type="range"]:focus::-webkit-slider-thumb {
            background: #0B1D3F;
            box-shadow: 0 6px 15px rgba(11,29,63,0.9);
        }
        input[type="range"]::-moz-range-thumb {
            width: 32px;
            height: 32px;
            background: #17A2B8;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(23,162,184,0.6);
            transition: background-color 0.3s ease;
        }
        input[type="range"]:focus::-moz-range-thumb {
            background: #0B1D3F;
            box-shadow: 0 6px 15px rgba(11,29,63,0.9);
        }
        .slider-labels {
            display: flex;
            justify-content: space-between;
            font-weight: 600;
            color: #0B1D3F;
            margin-top: 0.5rem;
        }
        .image-fallback {
            display: none;
            text-align: center;
            color: #444;
            font-size: 1.1rem;
            margin-top: 1rem;
        }

        /* Contact Section */
        #contact {
            text-align: center;
            font-size: 1.1rem;
            color: #444;
            margin-bottom: 5rem;
        }
        #contact p {
            margin: 0.5rem 0;
        }
        #contact a { font-weight: 600; }

        /* Footer */
        footer {
            background: #0B1D3F;
            color: white;
            text-align: center;
            padding: 2rem 1rem;
            font-weight: 600;
            user-select: none;
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .hero { height: 60vh; }
            .hero h1 { font-size: 2.5rem; }
            .hero p { font-size: 1rem; }
            .services-grid { grid-template-columns: 1fr; }
            .service-card { padding: 1.5rem; }
        }
        @media (max-width: 480px) {
            .hero h1 { font-size: 2rem; }
            .hero p { font-size: 0.9rem; }
            .container { margin: 2rem auto; }
            h2 { font-size: 2rem; }
        }
    </style>
</head>
<body>
    <header role="banner">
        <div class="logo" aria-label="Our Construction Team logo">Our Construction Team</div>
        <nav id="main-nav" aria-label="Main navigation">
            <a href="#services" aria-label="Our Services">Services</a>
            <a href="#details-section" aria-label="Service Details">Details</a>
            <a href="#contact" aria-label="Contact Us">Contact</a>
        </nav>
        <a href="mailto:Hessam_Taheri@yahoo.com?subject=Quote%20Request%20-%20Our%20Construction%20Team&body=Dear%20Team,%0D%0A%0D%0AI%20am%20interested%20in%20requesting%20a%20quote%20for%20your%20services.%20Please%20provide%20details%20about%20your%20availability%20and%20pricing.%0D%0A%0D%0ABest%20regards,%0D%0A[Your%20Name]" class="btn-cta" aria-label="Request a Quote">Request a Quote</a>
        <div class="hamburger" id="hamburger" aria-label="Toggle navigation menu" role="button" tabindex="0">
            <span></span><span></span><span></span>
        </div>
    </header>

    <section class="hero" role="banner" aria-label="Main hero section with company tagline">
        <h1>Building & Renovation Experts in London</h1>
        <p>Your trusted partner for luxury construction, plumbing, electrical, decorating, and more.</p>
        <p>Our team of seasoned professionals brings together expertise in architecture, civil engineering, and cutting-edge artificial intelligence to redefine construction excellence in London. With a passion for innovation, we specialize in delivering bespoke building and renovation solutions, seamlessly blending craftsmanship with technology. Our unique ability to showcase detailed design visualizations before project execution ensures your vision comes to life with precision and confidence. Committed to quality, sustainability, and client satisfaction, we transform spaces into inspiring environments that stand the test of time.</p>
        <a href="mailto:Hessam_Taheri@yahoo.com?subject=Quote%20Request%20-%20Our%20Construction%20Team&body=Dear%20Team,%0D%0A%0D%0AI%20am%20interested%20in%20requesting%20a%20quote%20for%20your%20services.%20Please%20provide%20details%20about%20your%20availability%20and%20pricing.%0D%0A%0D%0ABest%20regards,%0D%0A[Your%20Name]" class="btn-cta" aria-label="Request a Quote">Request a Quote</a>
    </section>

    <div class="container" id="services" tabindex="0" aria-label="Main service categories">
        <h2>Our Main Service Categories</h2>
        <div class="services-grid" id="service-cards" role="list"></div>
    </div>

    <div class="container" id="details-section" style="display:none;" tabindex="0" aria-live="polite" aria-atomic="true"></div>

    <div class="container" id="contact" tabindex="0" aria-label="Contact information">
        <h2>Contact Us</h2>
        <p>Email: <a href="mailto:Hessam_Taheri@yahoo.com">Hessam_Taheri@yahoo.com</a></p>
        <p>Phone: <a href="tel:+447586920744">+44 7586 920 744</a></p>
        <p>Serving Greater London and up to 100 miles around</p>
    </div>

    <footer role="contentinfo">
        &copy; 2025 Our Construction Team - All Rights Reserved
    </footer>

    <script>
        const nav = document.getElementById('main-nav');
        const hamburger = document.getElementById('hamburger');
        hamburger.addEventListener('click', () => {
            nav.classList.toggle('active');
            hamburger.classList.toggle('active');
        });
        hamburger.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                nav.classList.toggle('active');
                hamburger.classList.toggle('active');
                e.preventDefault();
            }
        });

        const servicesData = [
            {
                id: 'general',
                title: 'General Construction & Renovation',
                icon: 'fa-hammer',
                description: 'House Extensions, Loft Conversions, Garage Conversions, Home Refurbishments and other building works.',
                subservices: [
                    { name: 'House Extensions', images: { before: './IMG_8996.jpg', after: './IMG_8992.jpg' } } ,
                    { name: 'Home Conversions', images: { before: './20250413_172539.jpg', after: './20250408_170358.jpg' } } ,
                    { name: 'â€ŒBathroom Conversions', images: { before: './IMG_7667.jpg', after: './IMG_7833.jpg'  }},
                    { name: 'Kitchen Refurbishments', images: {before: './IMG_7593.jpg', after: './IMG_7599.jpg'  }}
                ],

            },
            {
                id: 'plumbing',
                title: 'Plumbing',
                icon: 'fa-faucet',
                description: 'General Plumbing, Bathroom Fitters, Emergency Plumbing, Water Tank Installations and repairs.',
                subservices: [
                    { name: 'General Plumbing', images: {before: './IMG_8042.jpg', after: './IMG_8043.jpg'  } },
                    { name: 'Bathroom Fitters', images: null },
                    { name: 'Emergency Plumbing', images: null },
                    { name: 'Water Tank Installations', images: null }
                ],
                beforeImg: 'https://images.unsplash.com/photo-1580582932221-169bb0a32a43?auto=format&fit=crop&w=800&q=80',
                afterImg: 'https://images.unsplash.com/photo-1617244533706-6f8a11a9db54?auto=format&fit=crop&w=800&q=80'
            },
            {
                id: 'heating',
                title: 'Heating Systems',
                icon: 'fa-fire',
                description: 'Boiler Installations, Boiler Repairs, Radiator Installation, Central Heating Systems.',
                subservices: [
                    { name: 'Boiler Installations', images: null },
                    { name: 'Boiler Repairs', images: null },
                    { name: 'Radiator Installation', images: null },
                    { name: 'Central Heating Systems', images: null }
                ],
                beforeImg: 'https://images.unsplash.com/photo-1576042081505-89c0f9b0bbd2?auto=format&fit=crop&w=800&q=80',
                afterImg: 'https://images.unsplash.com/photo-1612715923092-89ce408c0429?auto=format&fit=crop&w=800&q=80'
            },
            {
                id: 'locksmith',
                title: 'Locksmith & Security',
                icon: 'fa-key',
                description: 'Emergency Locksmith, Lock Fitting, Security Systems installation and repairs.',
                subservices: [
                    { name: 'Emergency Locksmith', images: null },
                    { name: 'Lock Fitting', images: null },
                    { name: 'Security Systems Installation', images: null }
                ],
                beforeImg: 'https://images.unsplash.com/photo-1581451966296-fb9d4772d5f1?auto=format&fit=crop&w=800&q=80',
                afterImg: 'https://images.unsplash.com/photo-1611252931954-0ec5e423be2f?auto=format&fit=crop&w=800&q=80'
            },
            {
                id: 'electrical',
                title: 'Electrical',
                icon: 'fa-bolt',
                description: 'Rewiring, Fuse Box Installations, Lighting Installations, Electrical Safety Certificates.',
                subservices: [
                    { name: 'Rewiring', images: null },
                    { name: 'Fuse Box Installations', images: null },
                    { name: 'Lighting Installations', images: null },
                    { name: 'Electrical Safety Certificates', images: null }
                ],
                beforeImg: 'https://images.unsplash.com/photo-1543791184-9c2f78733ec1?auto=format&fit=crop&w=800&q=80',
                afterImg: 'https://images.unsplash.com/photo-1518238892249-0b1ae3d23648?auto=format&fit=crop&w=800&q=80'
            },
            {
                id: 'carpentry',
                title: 'Carpentry & Joinery',
                icon: 'fa-hands-helping',
                description: 'Door Fitting, Kitchen Fitting, Custom Shelving, Staircase Installations.',
                subservices: [
                    { name: 'Door Fitting', images: null },
                    { name: 'Kitchen Fitting', images: null },
                    { name: 'Custom Shelving', images: null },
                    { name: 'Staircase Installations', images: null }
                ],
                beforeImg: 'https://images.unsplash.com/photo-1527030280862-64139fba04ca?auto=format&fit=crop&w=800&q=80',
                afterImg: 'https://images.unsplash.com/photo-1524594157366-2af6b09d51f0?auto=format&fit=crop&w=800&q=80'
            },
            {
                id: 'roofing',
                title: 'Roofing & Guttering',
                icon: 'fa-umbrella',
                description: 'Roof Repairs, Flat Roofs, Gutter Cleaning, Chimney Repairs and more.',
                subservices: [
                    { name: 'Roof Repairs', images: null },
                    { name: 'Flat Roof Installation', images: null },
                    { name: 'Gutter Cleaning', images: null },
                    { name: 'Chimney Repairs', images: null }
                ],
                beforeImg: 'https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=80',
                afterImg: 'https://images.unsplash.com/photo-1519821172142-62d924ec2395?auto=format&fit=crop&w=800&q=80'
            },
            {
                id: 'painting',
                title: 'Painting & Decorating',
                icon: 'fa-paint-roller',
                description: 'Interior Painting, Wallpapering, Plastering, Exterior Painting.',
                subservices: [
                    { name: 'Interior Painting', images: null },
                    { name: 'Wallpapering', images: null },
                    { name: 'Plastering', images: null },
                    { name: 'Exterior Painting', images: null }
                ],
                beforeImg: 'https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=800&q=80',
                afterImg: 'https://images.unsplash.com/photo-1507679799987-c73779587ccf?auto=format&fit=crop&w=800&q=80'
            },
            {
                id: 'tiling',
                title: 'Tiling & Flooring',
                icon: 'fa-th-large',
                description: 'Wall & Floor Tiling, Bathroom Tiling, Wooden Flooring, Laminate Flooring.',
                subservices: [
                    { name: 'Wall & Floor Tiling', images: null },
                    { name: 'Bathroom Tiling', images: null },
                    { name: 'Wooden Flooring', images: null },
                    { name: 'Laminate Flooring', images: null }
                ],
                beforeImg: 'https://images.unsplash.com/photo-1556912996-4ad1c67d6c79?auto=format&fit=crop&w=800&q=80',
                afterImg: 'https://images.unsplash.com/photo-1556912996-74b2fda9a9d2?auto=format&fit=crop&w=80'
            },
            {
                id: 'outdoor',
                title: 'Outdoor & Landscaping',
                icon: 'fa-tree',
                description: 'Garden Decking, Fencing, Patio Installation, Driveways and more.',
                subservices: [
                    { name: 'Garden Decking', images: null },
                    { name: 'Fencing', images: null },
                    { name: 'Patio Installation', images: null },
                    { name: 'Driveways', images: null }
                ],
                beforeImg: 'https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=800&q=80',
                afterImg: 'https://images.unsplash.com/photo-1519821172142-62d924ec2395?auto=format&fit=crop&w=800&q=80'
            }
        ];

        const serviceCardsContainer = document.getElementById('service-cards');
        const detailsSection = document.getElementById('details-section');

        // Generate service cards
        servicesData.forEach(service => {
            const card = document.createElement('div');
            card.className = 'service-card';
            card.tabIndex = 0;
            card.setAttribute('role', 'listitem');
            card.setAttribute('aria-label', `View details for ${service.title}`);
            card.innerHTML = `
                <i class="service-icon fa ${service.icon}" aria-hidden="true"></i>
                <div class="service-title">${service.title}</div>
            `;
            card.addEventListener('click', () => {
                showServiceDetails(service.id);
                scrollToDetails();
            });
            card.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    showServiceDetails(service.id);
                    scrollToDetails();
                    e.preventDefault();
                }
            });
            serviceCardsContainer.appendChild(card);
        });

        // Show service details
        function showServiceDetails(id) {
            const service = servicesData.find(s => s.id === id);
            if (!service) return;

            detailsSection.style.display = 'block';
            detailsSection.innerHTML = `
                <div class="service-detail" tabindex="0">
                    <button class="back-btn" onclick="hideServiceDetails()" aria-label="Back to services">Back to Services</button>
                    <h2>${service.title}</h2>
                    <p class="service-desc">${service.description}</p>
                    <div class="subservices-list">
                        ${service.subservices.map((sub, i) => `
                            <div class="subservice-item" tabindex="0" role="button" aria-pressed="false" data-index="${i}" data-service="${service.id}">${sub.name}</div>
                        `).join('')}
                    </div>
                    <div class="subservice-message" id="subservice-message-${service.id}">
                        Samples for this service will be added soon!
                    </div>
                    <div class="subservice-slider" id="subservice-slider-${service.id}"></div>
                    <div class="before-after-wrapper">
                        <img src="${service.beforeImg}" alt="Before ${service.title}" onerror="this.style.display='none';this.nextElementSibling.style.display='block';">
                        <div class="image-fallback">Image not available</div>
                        <div class="after-img" style="width: 50%;">
                            <img src="${service.afterImg}" alt="After ${service.title}" onerror="this.parentElement.style.display='none';this.parentElement.nextElementSibling.nextElementSibling.style.display='block';">
                        </div>
                        <div class="image-fallback">Image not available</div>
                        <div class="slider-container">
                            <input type="range" min="0" max="100" value="50" aria-label="Before and After image slider for ${service.title}">
                            <div class="slider-labels">
                                <span>Before</span>
                                <span>After</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // Add event listeners for subservices
            document.querySelectorAll('.subservice-item').forEach(item => {
                item.addEventListener('click', (e) => {
                    const serviceId = e.target.dataset.service;
                    const index = e.target.dataset.index;
                    const subservice = servicesData.find(s => s.id === serviceId).subservices[index];
                    const sliderContainer = document.getElementById(`subservice-slider-${serviceId}`);
                    const message = document.getElementById(`subservice-message-${serviceId}`);

                    if (subservice.images) {
                        sliderContainer.style.display = 'block';
                        message.style.display = 'none';
                        sliderContainer.innerHTML = `
                            <div class="before-after-wrapper">
                                <img src="${subservice.images.before}" alt="Before ${subservice.name}" onerror="this.style.display='none';this.nextElementSibling.style.display='block';">
                                <div class="image-fallback">Image not available</div>
                                <div class="after-img" style="width: 50%;">
                                    <img src="${subservice.images.after}" alt="After ${subservice.name}" onerror="this.parentElement.style.display='none';this.parentElement.nextElementSibling.nextElementSibling.style.display='block';">
                                </div>
                                <div class="image-fallback">Image not available</div>
                                <div class="slider-container">
                                    <input type="range" min="0" max="100" value="50" aria-label="Before and After image slider for ${subservice.name}">
                                    <div class="slider-labels">
                                        <span>Before</span>
                                        <span>After</span>
                                    </div>
                                </div>
                            </div>
                        `;
                        const slider = sliderContainer.querySelector('input[type="range"]');
                        const afterImgDiv = sliderContainer.querySelector('.after-img');
                        slider.addEventListener('input', () => {
                            afterImgDiv.style.width = slider.value + '%';
                        });
                    } else {
                        message.style.display = 'block';
                        sliderContainer.style.display = 'none';
                        setTimeout(() => { message.style.display = 'none'; }, 3000);
                    }
                });
                item.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        const serviceId = e.target.dataset.service;
                        const index = e.target.dataset.index;
                        const subservice = servicesData.find(s => s.id === serviceId).subservices[index];
                        const sliderContainer = document.getElementById(`subservice-slider-${serviceId}`);
                        const message = document.getElementById(`subservice-message-${serviceId}`);

                        if (subservice.images) {
                            sliderContainer.style.display = 'block';
                            message.style.display = 'none';
                            sliderContainer.innerHTML = `
                                <div class="before-after-wrapper">
                                    <img src="${subservice.images.before}" alt="Before ${subservice.name}" onerror="this.style.display='none';this.nextElementSibling.style.display='block';">
                                    <div class="image-fallback">Image not available</div>
                                    <div class="after-img" style="width: 50%;">
                                        <img src="${subservice.images.after}" alt="After ${subservice.name}" onerror="this.parentElement.style.display='none';this.parentElement.nextElementSibling.nextElementSibling.style.display='block';">
                                    </div>
                                    <div class="image-fallback">Image not available</div>
                                    <div class="slider-container">
                                        <input type="range" min="0" max="100" value="50" aria-label="Before and After image slider for ${subservice.name}">
                                        <div class="slider-labels">
                                            <span>Before</span>
                                            <span>After</span>
                                        </div>
                                    </div>
                                </div>
                            `;
                            const slider = sliderContainer.querySelector('input[type="range"]');
                            const afterImgDiv = sliderContainer.querySelector('.after-img');
                            slider.addEventListener('input', () => {
                                afterImgDiv.style.width = slider.value + '%';
                            });
                        } else {
                            message.style.display = 'block';
                            sliderContainer.style.display = 'none';
                            setTimeout(() => { message.style.display = 'none'; }, 3000);
                        }
                        e.preventDefault();
                    }
                });
            });

            // Before/After slider logic for main service
            const slider = detailsSection.querySelector('.before-after-wrapper input[type="range"]');
            const afterImgDiv = detailsSection.querySelector('.before-after-wrapper .after-img');
            slider.addEventListener('input', () => {
                afterImgDiv.style.width = slider.value + '%';
            });
        }

        // Hide service details
        function hideServiceDetails() {
            detailsSection.style.display = 'none';
            serviceCardsContainer.scrollIntoView({ behavior: 'smooth' });
        }

        // Scroll to details section
        function scrollToDetails() {
            detailsSection.scrollIntoView({ behavior: 'smooth' });
        }

        // Show first service details on load
        window.addEventListener('DOMContentLoaded', () => {
            showServiceDetails('general');
        });
    </script>
</body>
</html>